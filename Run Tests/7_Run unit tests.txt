2025-08-17T19:54:44.6141008Z ##[group]Run cd lambda
2025-08-17T19:54:44.6141260Z [36;1mcd lambda[0m
2025-08-17T19:54:44.6141456Z [36;1mecho "Running unit tests..."[0m
2025-08-17T19:54:44.6141939Z [36;1mPYTHONPATH="app" uv run pytest tests/unit -v --tb=short --junit-xml=test-results-unit.xml[0m
2025-08-17T19:54:44.6184180Z shell: /usr/bin/bash -e {0}
2025-08-17T19:54:44.6184570Z env:
2025-08-17T19:54:44.6184737Z   PYTHONPATH: app
2025-08-17T19:54:44.6184935Z   AWS_DEFAULT_REGION: us-east-1
2025-08-17T19:54:44.6185199Z   TEST_API_KEY: test-api-key-12345
2025-08-17T19:54:44.6185423Z   LOG_LEVEL: DEBUG
2025-08-17T19:54:44.6185666Z   pythonLocation: /opt/hostedtoolcache/Python/3.11.13/x64
2025-08-17T19:54:44.6186053Z   PKG_CONFIG_PATH: /opt/hostedtoolcache/Python/3.11.13/x64/lib/pkgconfig
2025-08-17T19:54:44.6186432Z   Python_ROOT_DIR: /opt/hostedtoolcache/Python/3.11.13/x64
2025-08-17T19:54:44.6186787Z   Python2_ROOT_DIR: /opt/hostedtoolcache/Python/3.11.13/x64
2025-08-17T19:54:44.6187123Z   Python3_ROOT_DIR: /opt/hostedtoolcache/Python/3.11.13/x64
2025-08-17T19:54:44.6187490Z   LD_LIBRARY_PATH: /opt/hostedtoolcache/Python/3.11.13/x64/lib
2025-08-17T19:54:44.6187771Z ##[endgroup]
2025-08-17T19:54:44.6246864Z Running unit tests...
2025-08-17T19:54:45.6248513Z ============================= test session starts ==============================
2025-08-17T19:54:45.6249713Z platform linux -- Python 3.11.13, pytest-8.4.1, pluggy-1.6.0 -- /home/runner/work/product-selector/product-selector/.venv/bin/python
2025-08-17T19:54:45.6250646Z cachedir: .pytest_cache
2025-08-17T19:54:45.6251166Z rootdir: /home/runner/work/product-selector/product-selector
2025-08-17T19:54:45.6251747Z configfile: pyproject.toml
2025-08-17T19:54:45.6252138Z plugins: anyio-4.10.0
2025-08-17T19:54:46.1542236Z collecting ... collected 55 items
2025-08-17T19:54:46.1542641Z 
2025-08-17T19:54:46.1614172Z tests/unit/test_lambda_handler.py::TestLambdaHandler::test_successful_get_all_gearboxes PASSED [  1%]
2025-08-17T19:54:46.1625951Z tests/unit/test_lambda_handler.py::TestLambdaHandler::test_post_invalid_operation PASSED [  3%]
2025-08-17T19:54:46.1640790Z tests/unit/test_lambda_handler.py::TestLambdaHandler::test_missing_api_key PASSED [  5%]
2025-08-17T19:54:46.1655444Z tests/unit/test_lambda_handler.py::TestLambdaHandler::test_empty_api_key PASSED [  7%]
2025-08-17T19:54:46.1670689Z tests/unit/test_lambda_handler.py::TestLambdaHandler::test_whitespace_api_key PASSED [  9%]
2025-08-17T19:54:46.1684610Z tests/unit/test_lambda_handler.py::TestLambdaHandler::test_missing_headers PASSED [ 10%]
2025-08-17T19:54:46.1695908Z tests/unit/test_lambda_handler.py::TestLambdaHandler::test_malformed_json_body PASSED [ 12%]
2025-08-17T19:54:46.1709490Z tests/unit/test_lambda_handler.py::TestLambdaHandler::test_none_body PASSED [ 14%]
2025-08-17T19:54:46.1723100Z tests/unit/test_lambda_handler.py::TestLambdaHandler::test_get_with_category_filter PASSED [ 16%]
2025-08-17T19:54:46.1737335Z tests/unit/test_lambda_handler.py::TestLambdaHandler::test_get_with_type_filter PASSED [ 18%]
2025-08-17T19:54:46.1751262Z tests/unit/test_lambda_handler.py::TestLambdaHandler::test_get_with_multiple_filters PASSED [ 20%]
2025-08-17T19:54:46.1767976Z tests/unit/test_lambda_handler.py::TestLambdaHandler::test_get_no_results_with_filter PASSED [ 21%]
2025-08-17T19:54:46.1781422Z tests/unit/test_lambda_handler.py::TestLambdaHandler::test_case_sensitive_headers PASSED [ 23%]
2025-08-17T19:54:46.1791998Z tests/unit/test_lambda_handler.py::TestLambdaHandler::test_internal_server_error PASSED [ 25%]
2025-08-17T19:54:46.1805055Z tests/unit/test_lambda_handler.py::TestLambdaHandler::test_minimal_valid_event PASSED [ 27%]
2025-08-17T19:54:46.1815937Z tests/unit/test_lambda_handler.py::TestLambdaHandler::test_unsupported_method PASSED [ 29%]
2025-08-17T19:54:46.1829311Z tests/unit/test_lambda_handler.py::TestLambdaHandler::test_create_gearbox_success PASSED [ 30%]
2025-08-17T19:54:46.1840453Z tests/unit/test_lambda_handler.py::TestLambdaHandler::test_create_gearbox_missing_fields PASSED [ 32%]
2025-08-17T19:54:46.1851414Z tests/unit/test_lambda_handler.py::TestLambdaHandler::test_post_no_body PASSED [ 34%]
2025-08-17T19:54:46.1863993Z tests/unit/test_lambda_handler.py::TestResponseFormat::test_success_response_format PASSED [ 36%]
2025-08-17T19:54:46.1876283Z tests/unit/test_lambda_handler.py::TestResponseFormat::test_error_response_format PASSED [ 38%]
2025-08-17T19:54:46.1884449Z tests/unit/test_lambda_handler.py::TestHelperFunctions::test_convert_dynamodb_item_string PASSED [ 40%]
2025-08-17T19:54:46.1892458Z tests/unit/test_lambda_handler.py::TestHelperFunctions::test_convert_dynamodb_item_number_int PASSED [ 41%]
2025-08-17T19:54:46.1900639Z tests/unit/test_lambda_handler.py::TestHelperFunctions::test_convert_dynamodb_item_number_float PASSED [ 43%]
2025-08-17T19:54:46.1908703Z tests/unit/test_lambda_handler.py::TestHelperFunctions::test_convert_dynamodb_item_boolean PASSED [ 45%]
2025-08-17T19:54:46.1918351Z tests/unit/test_lambda_handler.py::TestHelperFunctions::test_convert_dynamodb_item_null PASSED [ 47%]
2025-08-17T19:54:46.1926390Z tests/unit/test_lambda_handler.py::TestHelperFunctions::test_convert_dynamodb_item_list PASSED [ 49%]
2025-08-17T19:54:46.1934406Z tests/unit/test_lambda_handler.py::TestHelperFunctions::test_convert_dynamodb_item_map PASSED [ 50%]
2025-08-17T19:54:46.1942423Z tests/unit/test_lambda_handler.py::TestHelperFunctions::test_convert_dynamodb_item_string_set PASSED [ 52%]
2025-08-17T19:54:46.1950957Z tests/unit/test_lambda_handler.py::TestHelperFunctions::test_convert_dynamodb_item_number_set PASSED [ 54%]
2025-08-17T19:54:46.1959138Z tests/unit/test_lambda_handler.py::TestHelperFunctions::test_convert_dynamodb_item_unknown_type PASSED [ 56%]
2025-08-17T19:54:46.1967094Z tests/unit/test_lambda_handler.py::TestFilterItems::test_filter_no_filters PASSED [ 58%]
2025-08-17T19:54:46.1975161Z tests/unit/test_lambda_handler.py::TestFilterItems::test_filter_category_gearbox_item PASSED [ 60%]
2025-08-17T19:54:46.1983124Z tests/unit/test_lambda_handler.py::TestFilterItems::test_filter_category_category_item PASSED [ 61%]
2025-08-17T19:54:46.1991001Z tests/unit/test_lambda_handler.py::TestFilterItems::test_filter_manufacturer PASSED [ 63%]
2025-08-17T19:54:46.1999529Z tests/unit/test_lambda_handler.py::TestFilterItems::test_filter_price_range PASSED [ 65%]
2025-08-17T19:54:46.2007771Z tests/unit/test_lambda_handler.py::TestFilterItems::test_filter_min_torque PASSED [ 67%]
2025-08-17T19:54:46.2015950Z tests/unit/test_lambda_handler.py::TestFilterItems::test_filter_min_performance PASSED [ 69%]
2025-08-17T19:54:46.2023936Z tests/unit/test_lambda_handler.py::TestFilterItems::test_filter_invalid_torque PASSED [ 70%]
2025-08-17T19:54:46.2031935Z tests/unit/test_lambda_handler.py::TestFilterItems::test_filter_multiple_conditions PASSED [ 72%]
2025-08-17T19:54:46.2042964Z tests/unit/test_lambda_handler.py::TestCRUDOperations::test_create_gearbox_complete PASSED [ 74%]
2025-08-17T19:54:46.2055062Z tests/unit/test_lambda_handler.py::TestCRUDOperations::test_create_gearbox_duplicate PASSED [ 76%]
2025-08-17T19:54:46.2066035Z tests/unit/test_lambda_handler.py::TestCRUDOperations::test_update_gearbox_success PASSED [ 78%]
2025-08-17T19:54:46.2077038Z tests/unit/test_lambda_handler.py::TestCRUDOperations::test_update_gearbox_not_found PASSED [ 80%]
2025-08-17T19:54:46.2085601Z tests/unit/test_lambda_handler.py::TestCRUDOperations::test_update_gearbox_no_updates PASSED [ 81%]
2025-08-17T19:54:46.2096523Z tests/unit/test_lambda_handler.py::TestCRUDOperations::test_update_gearbox_protected_fields PASSED [ 83%]
2025-08-17T19:54:46.2107130Z tests/unit/test_lambda_handler.py::TestCRUDOperations::test_delete_gearbox_success PASSED [ 85%]
2025-08-17T19:54:46.2119120Z tests/unit/test_lambda_handler.py::TestCRUDOperations::test_delete_gearbox_not_found PASSED [ 87%]
2025-08-17T19:54:46.2127331Z tests/unit/test_lambda_handler.py::TestCRUDOperations::test_delete_gearbox_no_id PASSED [ 89%]
2025-08-17T19:54:46.2139674Z tests/unit/test_lambda_handler.py::TestErrorHandling::test_dynamodb_client_error PASSED [ 90%]
2025-08-17T19:54:46.2152188Z tests/unit/test_lambda_handler.py::TestErrorHandling::test_unexpected_exception PASSED [ 92%]
2025-08-17T19:54:46.2163514Z tests/unit/test_lambda_handler.py::TestErrorHandling::test_pagination_handling PASSED [ 94%]
2025-08-17T19:54:46.2178507Z tests/unit/test_lambda_handler.py::TestLoggingConfiguration::test_configure_logging_default PASSED [ 96%]
2025-08-17T19:54:46.2192402Z tests/unit/test_lambda_handler.py::TestLoggingConfiguration::test_configure_logging_debug PASSED [ 98%]
2025-08-17T19:54:46.2798582Z tests/unit/test_lambda_handler.py::TestLoggingConfiguration::test_configure_logging_invalid_level PASSED [100%]
2025-08-17T19:54:46.2799394Z 
2025-08-17T19:54:46.2799907Z - generated xml file: /home/runner/work/product-selector/product-selector/lambda/test-results-unit.xml -
2025-08-17T19:54:46.2800750Z ============================== 55 passed in 0.60s ==============================
